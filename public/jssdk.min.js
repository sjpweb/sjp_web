/* eslint-disable */
/**version:1.0.9;author:plat-h5**/
!function(e,t,n){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?n(e,t):function(e){return n(e,t)}:"function"==typeof define&&(define.cmd||define.amd)?define(function(){return n(e,t)}):n(e,t)}(void 0!==this?this:window,window,function(e,t){var n=function(){var e={verify_url:"{{BUSINESSURL}}",id:"431",key:"diy.m.jd.com;id.jd.com;_1543802701",domain:"diy.m.jd.com;id.jd.com;",authorized:0,blacklist:[]},t={alert:!1,debug:!1,setAuthorized:function(t){e.authorized=t?parseInt(t)%2:e.authorized},setBlackList:function(t){"[object Array]"==Object.prototype.toString.call(t)&&(e.blacklist=t||e.blacklist)},getVerify_url:function(){return e.verify_url||""},getId:function(){return e.id||0},getKey:function(){return e.key||""},getDomain:function(){return e.domain||""},getAuthorized:function(){return e.authorized},getBlackList:function(){return e.blacklist||[]},getOptions:function(){return e||{}},setOptions:function(t){e=t},printMsg:function(e,n){t.debug&&console.log("***"+e+"*** "+n),t.alert&&alert("***"+e+"*** "+n)}};return t}();return e=e||this,e.JSSDK=n,function(e){"use strict";e.Common={client:function(){var e={},n=navigator&&navigator.userAgent||"";if(/jdapp/.test(n)){e.jdapp=!0;var i=n.split(";");e.appVersion=i[2],e.OSVersion=i[3],e.udid=i[4],e.network=i[5].replace("network/",""),e.phone=i[10].replace("model/","")}if(e.iPhoneX=["iPhone10,3","iPhone10,6","iPhone11,3","iPhone11,6"].indexOf(e.phone)>-1,e.jailbreak=n.indexOf("channelID/pp601")>-1,e.WKwebview=n.indexOf("supportJDSHWK/1")>-1||1==t._is_jdsh_wkwebview,e.ios=!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),e.android=n.indexOf("Android")>-1||n.indexOf("android")>-1,e.iPhone=n.indexOf("iPhone")>-1||n.indexOf("iphone")>-1,e.iPad=n.indexOf("iPad")>-1||n.indexOf("ipad")>-1,e.weixin=(n.indexOf("MicroMessenger")>-1||n.indexOf("micromessenger")>-1)&&"miniprogram"!=t.__wxjs_environment,e.miniprogram=(n.indexOf("MicroMessenger")>-1||n.indexOf("micromessenger")>-1)&&"miniprogram"===t.__wxjs_environment,e.qq="QQ"==(n.match(/\sQQ/i)||"").toString().toLocaleUpperCase().trim(),e.trident=n.indexOf("Trident")>-1,e.presto=n.indexOf("Presto")>-1,e.webKit=n.indexOf("AppleWebKit")>-1,e.gecko=n.indexOf("Gecko")>-1&&-1==n.indexOf("KHTML"),e.chrome=null!==n.match(/Chrome/i)&&null===n.match(/Version\/\d+\.\d+(\.\d+)?\sChrome\//i),e.safari=(e.iPhone||e.iPad)&&n.match(/Safari/),e.safariVersion=0,e.safari){var a=n.match(/Version\/([\d\.]+)/);e.safariVersion=a;try{e.safariVersion=parseFloat(a[1],10)}catch(e){}}return e.ios10Chrome=!!n.match(/(Mac\sOS)\sX\s([\d_]+)/),e.isSAMSUNGN7508V=-1!=n.toUpperCase().indexOf("SAMSUNG-SM-N7508V"),e}(),printMsg:function(t,n){e.printMsg(t,n)},mergeJson:function(e,t){var n={};for(var i in e)n[i]=e[i];for(i in t)n[i]=t[i];return n},mergeArray:function(e,t){if("[object Array]"==Object.prototype.toString.call(e)&&"[object Array]"==Object.prototype.toString.call(t)){for(var n in t)e.indexOf(t[n])<0&&e.push(t[n]);return e}},extend:function(e,t){t=t||{};for(var n in t)e.hasOwnProperty(n)&&(e[n]=t[n]);return e},stringify:function(e){return e=e||"",JSON.stringify(e)},formatParams:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},isNull:function(e){var t=!1;return void 0===e?t=!0:"object"!=typeof e||e instanceof Array?0===e.replace(/(^s*)|(s*$)/g,"").length&&(t=!0):t=this.isObjEmpty(e),t},isObjEmpty:function(e){var t=!0;if("object"==typeof e&&!(e instanceof Array))for(var n in e){t=!1;break}return t},isObj:function(e){return"object"==typeof e&&!!e},isJSONString:function(e){try{return!!(this.isString(e)&&e.indexOf("{")>-1)&&(JSON.parse(e),!0)}catch(e){return!1}},isString:function(e){return"[object String]"==Object.prototype.toString.call(e)},getCookie:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?t[2]:null},hasIntersectByKey:function(e,t){e=e||{},t=t||{};var n={isExist:!1,paramExist:[]};for(var i in e)if(t.hasOwnProperty(i)){n.isExist=!0,n.paramExist.push(i);break}return n},isSubSetByKeys:function(e,t){e=e||{},t=t||{};var n={isSub:!0,lackParam:[]};for(var i in e)t.hasOwnProperty(i)||(n.isSub=!1,n.lackParam.push(i));return n},firstUpperCase:function(e){return e.toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},compareVersion:function(e){var t=-1;if(this.client.jdapp){var n=this.client.appVersion.split("."),i=e.split(".");if(n.length>=3&&i.length>=3){(parseInt(n[0])>=10||parseInt(i[0])>=10)&&(n[0]="0"+n[0],i[0]="0"+i[0],n[0]=n[0].substr(-1,2),i[0]=i[0].substr(-1,2)),(parseInt(n[1])>=10||parseInt(i[1])>=10)&&(n[1]="0"+n[1],i[1]="0"+i[1],n[1]=n[1].substr(-1,2),i[1]=i[1].substr(-1,2)),(parseInt(n[2])>=10||parseInt(i[2])>=10)&&(n[2]="0"+n[2],i[2]="0"+i[2],n[2]=n[2].substr(-1,2),i[2]=i[2].substr(-1,2));t=parseInt(n[0].toString()+n[1].toString()+n[2].toString())-parseInt(i[0].toString()+i[1].toString()+i[2].toString())}}return t},hexCharToStr:function(e){var t=e.trim(),n="0x"===t.substr(0,2).toLowerCase()?t.substr(2):t,i=n.length;if(i%2!=0)return e;for(var a,r=[],o=0;o<i;o+=2)a=parseInt(n.substr(o,2),16),r.push(String.fromCharCode(a));return r.join("")},deCompileForStr:function(e){var t=e.split("");return t=t.reverse(),this.hexCharToStr(t.join(""))},deCompileForJson:function(e){e=e||{};for(var t in e)e[t]=this.deCompileForStr(e[t])},contain_in_arr:function(e,t){for(var n in e)if(e[n].toLowerCase()==t.toLowerCase())return!0;return!1}},e.Common}(n),function(e){"use strict";var t=0,n=[],i=[],a={id:"0",key:"0",domain:"",url:"//badjs.m.jd.com/report",combo:1,level:2,delay:1e3},r=function(t){var n={};return(n=e.Common.isObj(t)?t:{msg:t}).from||(n.from=location.href),n},o=function(t,n){var i=[],r=[],o=[];if(e.Common.isObj(t)){t.key=t.key||a.key,t.domain=t.domain||a.domain,t.level=t.level||a.level;for(var s in t){var l=t[s];if(l=l.toString(),!e.Common.isNull(l)){if(e.Common.isObj(l))try{l=e.Common.stringify(l)}catch(e){l="[JSSDK_REPORT detect value stringify error] "+e.toString()}o.push(s+":"+l),i.push(s+"="+encodeURIComponent(l)),r.push(s+"["+n+"]="+encodeURIComponent(l))}}}return[r.join("&"),o.join(","),i.join("&")]},s=function(){for(function(){var e=parseInt(a.id,10);if(!e)return!1;/jd\.com$/gi.test(location.hostname)&&(a.url||(a.url="//badjs.m.jd.com/report")),a.report=(a.url||"/report")+"?id="+e+"&"}();n.length;){var e=n.shift(),r=o(e,i.length);i.push(r[0])}if(i.length){t||(t=setTimeout(function(){clearTimeout(t),a.report&&function(e){(new Image).src=e}(a.report+i.join("&")+"&count="+i.length+"&_t="+new Date),t=0,i=[]},a.delay))}},l={push:function(e){var t=r(e);return n.push(t),s(),l},report:function(e){var t=r(e);return n.push(t),s(),l}};e.options&&(a.id=e.getId(),a.key=e.getKey(),a.domain=e.getDomain()),e.Report=l}(n),function(e){"use strict";n.Common.Validator={patterns:{email:function(e,t){return/^(?:[a-z0-9]+[_\-+.]?)*[a-z0-9]+@(?:([a-z0-9]+-?)*[a-z0-9]+.)+([a-z]{2,})+$/i.test(e)},mobile:function(e,t){return/^1[3-9]\d{9}$/.test(e)},tel:function(e,t){return/^(?:(?:0\d{2,3}[- ]?[1-9]\d{6,7})|(?:[48]00[- ]?[1-9]\d{6}))$/.test(e)},url:function(e,t){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},digit:function(e,t){return/^\d+$/.test(e)},minLength:function(e,t){return e.length>=t},maxLength:function(e,t){return e.length<=t},min:function(e,t){return e>=t},max:function(e,t){return e<=t},range:function(e,t){return e>=t[0]&&e<=t[1]},date:function(e,t){return!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},require:function(e,t){return/\S+/.test(e)}},isValid:function(e,t){e=e||{};var n={isMatch:!0,paramType:""};for(var i in e){if(!n.isMatch)break;this.patterns.hasOwnProperty(i)&&(n.isMatch=this.patterns[i](t,e[i]),n.paramType=i)}return n}}}(),function(e){"use strict";e.Schema={options:{openAppVirtualHeader:"d337d616271607f3c6165747279667f2f2a356c69626f6d646a6e2070716e65607f6",openAppComHeader:"d337d616271607f3e6f69647163696e657d6d6f636f2f2a356c69626f6d646a6e2070716e65607f6",routerHeader:"f2f2a327564757f627"},getOpenAppVirtualHeader:function(){return this.options.openAppVirtualHeader},getOpenAppComHeader:function(){return this.options.openAppComHeader},getRouterHeader:function(e){return this.options.routerHeader+e+"?"},ready:function(){e.Common.deCompileForJson(this.options)}},e.Schema.ready()}(n),function(e){"use strict";e.Module={checkInputParams:function(t,n){var i=t.requiredParams,a=t.typeParams,r=t.ruleParams||{},o=!0;return e.Common.isNull(i)||(e.Common.isNull(n)?o=!1:this.isMatchedRequiredParams(i,n)||(o=!1)),e.Common.isNull(a)||e.Common.isNull(n)||this.isDiffStaticParams(a,n)||(o=!1),e.Common.isNull(r)||e.Common.isNull(n)||this.isMatchedByRuleParams(r,n)||(o=!1),o},isMatchedByRuleParams:function(t,n){t=t||{},n=n||{};var i=!0,a={};for(var r in t)if(n.hasOwnProperty(r)&&!(a=e.Common.Validator.isValid(t[r],n[r])).isMatch){e.Common.printMsg("invalid parameters","params:"+e.Common.stringify(n)+"\nthe type of param "+r+" must be "+a.paramType),i=!1;break}return i},isMatchedRequiredParams:function(t,n){var i=e.Common.isSubSetByKeys(t,n);return i.isSub||e.Common.printMsg("invalid parameters","params:"+e.Common.stringify(n)+"\nlack param "+i.lackParam),i.isSub},isDiffStaticParams:function(t,n){var i=e.Common.hasIntersectByKey(t,n);return i.isExist&&e.Common.printMsg("invalid parameters","params:"+e.Common.stringify(n)+"\nthe param "+i.paramExist+" can't be change"),!i.isExist},getConfigString:function(t,n){return e.Common.stringify(this.getWholeCurrentParams(t,n))},getStandardConfigStr:function(t,n){return e.Common.formatParams(this.getWholeCurrentParams(t,n))},getWholeCurrentParams:function(t,n){return n=this.filterInputParams(t,n),e.Common.extend(this.getWholeDefaultParams(t),n)},getWholeDefaultParams:function(t){var n=e.Common.mergeJson(t.typeParams,t.edgeParams);return e.Common.mergeJson(n,t.requiredParams)},getOpenAppVirtualHeader:function(){return e.Schema?e.Schema.getOpenAppVirtualHeader():""},getOpenAppComHeader:function(){return e.Schema?e.Schema.getOpenAppComHeader():""},getRouterHeader:function(t){return e.Schema?e.Schema.getRouterHeader(t):""},getOpenAppVirtualUrl:function(e,t){return this.getOpenAppVirtualHeader()+this.getConfigString(e,t)},getOpenAppComUrl:function(e,t){return this.getOpenAppComHeader()+this.getConfigString(e,t)},getRouterUrl:function(e,t,n){return this.getRouterHeader(e)+this.getStandardConfigStr(t,n)},getDefaultOpenAppUrl:function(e,t){return this.getOpenAppVirtualUrl(e,t)},toAppUrl:function(n){e.CallApp?e.CallApp.callApp(n):t.location.href=n},isIOS:function(){return e.Common.client.ios||e.Common.client.iPhone||e.Common.client.iPad},isAndroid:function(){return e.Common.client.android},isJDApp:function(){return e.Common.client.jdapp||!1},isWKwebview:function(){return!(!e.Common.client.WKwebview&&1!=t._is_jdsh_wkwebview)},filterInputParams:function(e,t){return t=this.parseInputParams(e,t)},parseInputParams:function(e,t){if(e){var n=e.ruleParams;if(n)for(var i in n)n[i].hasOwnProperty("url")&&n[i].url&&this.isIOS()&&(t[i]=encodeURIComponent(t[i])),n[i].hasOwnProperty("digit")&&n[i].digit&&(t[i]=t[i].toString())}return t},callServiceFun:function(t,n,i){if(this.report("callServiceFun"),this.checkInputParams(t,n)){var a=this.getWholeCurrentParams(t,n);if((a=a||{}).hasOwnProperty("requestUrl")){var r=a.requestUrl;delete a.requestUrl,e.Service.corsRequest(r,a,i)}else e.Service.failedResponse(i,"lack of parameter 'requestUrl'")}else e.Service.failedResponse(i,"invalid params")},report:function(t){e.Report&&setTimeout(function(){e.Common.printMsg("module","funName=report"),e.Report.push(t)},0)},doFunForPlatForm:function(e,t,n,i,a){var r=t,o=null;if(e&&e.versionParams&&e.versionParams[t]&&(o=e.versionParams[t]),o&&(r=this.getApiNameByVersion(t,o)),r===t){this.report(r);var s=null;e&&e.optionParams&&e.optionParams[t]&&(s=e.optionParams[t]),s&&!this.checkInputParams(s,n)?this.errorCallback("param not valid",i):a()}else e&&e[r]?e[r](n,i):this.errorCallback("fun not found,funName:"+r,i)},doBridgeFun:function(t,n){var i=n.apiName=n.apiName||"";if(this.hasAca(i)){if(!n.apiName)return e.Common.printMsg("apiName not found"),!1;n.inputParams=n.inputParams||{},n.inputCallback=n.inputCallback||function(e){console.log(e)};var a="android";this.isIOS()&&(a="ios");var r=null;if(t&&t.optionParams&&t.optionParams[n.apiName]&&(r=t.optionParams[n.apiName]),r&&!this.checkInputParams(r,n.inputParams))return this.errorCallback("param not valid",n.inputCallback),!1;if(t&&t.versionParams&&t.versionParams[n.apiName]){var o=null;(o=t.versionParams[n.apiName][a]?t.versionParams[n.apiName][a]:t.versionParams[n.apiName])&&(i=this.getApiNameByVersion(n.apiName,o))}i===n.apiName?(this.report(i),n.logic?n.logic():this.errorCallback("params.logic not found",n.inputCallback)):t&&t[i]?t[i](n.inputParams,n.inputCallback):this.errorCallback("fun not found,funName:"+i,n.inputCallback)}else e.printMsg(i,"has no access control authority")},getApiNameByVersion:function(t,n){if(n&&e.Common.client.jdapp)for(var i in n){var a=i.begin||"",r=i.end||"",o=1,s=-1;""!==a&&(o=common.compareVersion(a)),""!==r&&(s=common.compareVersion(r)),o>=0&&s<0&&(t=i)}return t},callIOSStandardBridge:function(t,n){if(e.Native.IOS){var i=this;e.Native.IOS.callBridgeFun(t,function(e){i.standardCallback(e,n)})}else this.standardCallback({state:"0",data:"",msg:"JSSDK.IOS module not found!"},n)},standardCallback:function(t,n){if(e.Common.isObj(t))this._standardCallbackByJson(t,n);else if(e.Common.isString(t)&&""!==t)if(e.Common.isJSONString(t)){var i=JSON.parse(t);this._standardCallbackByJson(i,n)}else n({state:"1",data:t,msg:""});else n({state:"0",data:"",msg:"data type not support"})},_standardCallbackByJson:function(t,n){n(t.result&&e.Common.isObj(t.result)?{state:t.result.state||"0",data:t.result.data||"",msg:t.result.msg||""}:{state:t.state||"0",data:t.data||t,msg:t.msg||""})},errorCallback:function(t,n){e.Common.isObj(t)?(t.state="0",this._standardCallbackByJson(t,n)):this._standardCallbackByJson({state:"0",data:"",msg:t},n)},successCallback:function(t,n){if(e.Common.isObj(t))t.result?t.result.state="1":t.state="1",this._standardCallbackByJson(t,n);else if(e.Common.isString(t)&&""!==t)if(e.Common.isJSONString(t)){var i=JSON.parse(t);i.result?i.result.state="1":i.state="1",this._standardCallbackByJson(i,n)}else n({state:"1",data:t,msg:""});else this._standardCallbackByJson({state:"1",data:t,msg:""},n)},hasAca:function(t){var n=!0,i=e.getBlackList();return 0==e.getAuthorized()?e.Common.contain_in_arr(i,t)&&(n=!1):n=!1,n}}}(n),function(e){"use strict";e.Isv={optionParams:{requestIsvToken:{typeParams:{},edgeParams:{id:""},requiredParams:{url:""},ruleParams:{url:{url:!0,require:!0}}}},versionParams:{requestIsvToken:{}},requestIsvToken:function(n,i){var a=this;e.Module.doFunForPlatForm(a,"requestIsvToken",n,i,function(){if(t.requestIsvTokenRet=function(t){(t=JSON.parse(t)).data&&(document.cookie="IsvToken="+t.data),e.Module.standardCallback(t,i)},n.url=n.url||"",n.id=n.id||"",n=JSON.stringify(n),t.JDAppUnite&&t.JDAppUnite.requestIsvToken)JDAppUnite.requestIsvToken(n,"requestIsvTokenRet");else if(e.Common.client.WKwebview){var r={method:"requestIsvToken",params:n,callBackName:"requestIsvTokenRet",callBackId:null};a.doFunForWKWebview(r)}else e.Module.standardCallback({state:"0",data:"",msg:"environment not support"},i)})},isAppLogin:function(n){var i=this;e.Module.doFunForPlatForm(i,"isAppLogin",{},n,function(){if(t.isAppLoginRet=function(t){e.Module.standardCallback(t,n)},t.JDAppUnite&&t.JDAppUnite.isAppLogin)JDAppUnite.isAppLogin("isAppLoginRet");else if(e.Common.client.WKwebview){i.doFunForWKWebview({method:"isAppLogin",params:"isAppLoginRet",callBackName:null,callBackId:null})}else e.Module.standardCallback({state:"0",data:"",msg:"environment not support"},n)})},requestLogin:function(n){var i=this;e.Module.doFunForPlatForm(i,"requestLogin",{},n,function(){if(t.requestLoginRet=function(t){e.Module.standardCallback(t,n)},t.JDAppUnite&&t.JDAppUnite.requestLogin)JDAppUnite.requestLogin("requestLoginRet");else if(e.Common.client.WKwebview){i.doFunForWKWebview({method:"requestLogin",params:"requestLoginRet",callBackName:null,callBackId:null})}else e.Module.standardCallback({state:"0",data:"",msg:"environment not support"},n)})},doFunForWKWebview:function(e){t.webkit&&t.webkit.messageHandlers.JDAppUnite.postMessage&&t.webkit.messageHandlers.JDAppUnite.postMessage(e)}}}(n),function(e){"use strict";e.WxShare={optionParams:{customShareParams:{requiredParams:{iconUrl:"",shareUrl:t.location.href,title:"",content:"",callfunc:null}}},require:function(e,t){var n=document,i=n.head||n.getElementsByTagName("head")[0]||n.documentElement,a=n.createElement("script");a.onload=t,a.onerror=function(){},a.async=!0,a.src=e[0],i.appendChild(a)},isFunction:function(e){return"function"==typeof e},customShare:function(n){var i=this,a=i.optionParams.customShareParams.requiredParams;if(e.Common.extend(a,n),e.Common.client.weixin)var r=setInterval(function(){t.WeixinJSBridge&&(i.wechatShareInit(),clearInterval(r))},100);else e.Common.client.qq&&(t.mqq?i.QQShareConfig():i.require(["//open.mobile.qq.com/sdk/qqapi.js?_bid=152"],function(){i.QQShareConfig()}))},wechatShareInit:function(){"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",this.wechatShareConfig,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",this.wechatShareConfig),document.attachEvent("onWeixinJSBridgeReady",this.wechatShareConfig)):this.wechatShareConfig()},wechatShareConfig:function(){var e=this,t=e.optionParams.customShareParams.requiredParams,n={img_url:t.iconUrl,img_width:"120",img_height:"120",link:t.shareUrl,desc:t.content,title:t.title};[{event:"menu:share:appmessage",action:"sendAppMessage"},{event:"menu:share:timeline",action:"shareTimeline"},{event:"menu:share:qq",action:"shareQQ"},{event:"menu:share:QZone",action:"shareQZone"}].forEach(function(i,a){WeixinJSBridge.on(i.event,function(a){WeixinJSBridge.invoke(i.action,n,function(){try{e.isFunction(t.callfunc)&&t.callfunc()}catch(e){}})})})},QQShareConfig:function(){var e=this.optionParams.customShareParams.requiredParams;mqq.invoke&&mqq.invoke("data","setShareInfo",{share_url:e.shareUrl.indexOf(t.location.href)>-1?e.shareUrl:t.location.href,title:e.title,desc:e.content,image_url:e.iconUrl})}}}(n),function(e,n,i){"use strict";e.Client={getOSVersion:function(){return this.getCommonClientValue("OSVersion","getOSVersion")},getAppVersion:function(){return this.getCommonClientValue("appVersion","getAppVersion")},getUdid:function(){return this.getCommonClientValue("udid","getUdid")},getNetWork:function(e){i.hasAca("getNetWork")?t.JDAppUnite&&JDAppUnite.getNetWorkType?(t.getNetWorkCallback=function(t){e(t)},JDAppUnite.getNetWorkType("getNetWorkCallback")):this.isWKWebview()?(t.getNetWorkCallback=function(t){e(t)},t.webkit.messageHandlers.JDAppUnite.postMessage({method:"getNetWorkType",params:"getNetWorkCallback",callBackName:null,callBackId:null})):e(this.getCommonClientValue("network","getNetWork")):n.printMsg("getNetWork","has no access control authority")},isWKWebview:function(){return this.getCommonClientValue("WKwebview","isWKWebview")},isIOS:function(){return this.getCommonClientValue("ios","isIOS")},isAndroid:function(){return this.getCommonClientValue("android","isAndroid")},isWeixin:function(){return this.getCommonClientValue("weixin","isWeixin")},isQQ:function(){return this.getCommonClientValue("qq","isQQ")},isIPhone:function(){return this.getCommonClientValue("iPhone","isIPhone")},isIPad:function(){return this.getCommonClientValue("iPad","isIPad")},isTrident:function(){return this.getCommonClientValue("trident","isTrident")},isPresto:function(){return this.getCommonClientValue("presto","isPresto")},isWebKit:function(){return this.getCommonClientValue("webKit","isWebKit")},isGecko:function(){return this.getCommonClientValue("gecko","isGecko")},isJDApp:function(){return this.getCommonClientValue("jdapp","isJDApp")},isJailbreak:function(){return this.getCommonClientValue("jailbreak","isJailbreak")},isIPhoneX:function(){return this.getCommonClientValue("iPhoneX","isIPhoneX")},isMiniProgram:function(){return this.getCommonClientValue("miniprogram","isMiniProgram")},getCommonClientValue:function(t,a){if(i.hasAca(a))return e.Common.client[t];n.printMsg(a,"has no access control authority")},getPhoneBasicInfo:function(e){i.hasAca("getPhoneBasicInfo")?t.JDAppUnite&&JDAppUnite.getPhoneBasicInfo?(t.getPhoneBasicInfoCallback=function(t){e(t)},JDAppUnite.getPhoneBasicInfo("getPhoneBasicInfoCallback")):this.isWKWebview()&&(t.getPhoneBasicInfoCallback=function(t){e(t)},t.webkit.messageHandlers.JDAppUnite.postMessage({method:"getPhoneBasicInfo",params:"getPhoneBasicInfoCallback"})):n.printMsg("getPhoneBasicInfo","has no access control authority")}}}(n,n.Common,n.Module),function(e,n,i){"use strict";e.WebView={params:{resetConfigBtnParams:{typeParams:{clear_js:{type:"clear_js",display:"show",position:"inside",title:"",icon:"",jump:""}},edgeParams:{},requiredParams:{}},configAllBtnParams:{typeParams:{},edgeParams:{homepage:{type:"homepage",display:"hide",position:"inside",title:"",icon:"",jump:""},calendar:{type:"calendar",display:"hide",position:"inside",title:"",icon:"",jump:""},search:{type:"search",display:"hide",position:"inside",title:"",icon:"",jump:""},message:{type:"message",display:"hide",position:"inside",title:"",icon:"",jump:""},cart:{type:"cart",display:"hide",position:"inside",title:"",icon:"",jump:""},feedback:{type:"feedback",display:"hide",position:"inside",title:"",icon:"",jump:""},hidemore:{type:"hidemore",display:"hide",position:"inside",icon:"",title:"",jump:""}},requiredParams:{}},configCartBtnParams:{typeParams:{type:"cart",icon:"",title:"",jump:""},edgeParams:{display:"show",position:"inside"},requiredParams:{}},configSearchBtnParams:{typeParams:{type:"search",icon:"",title:"",jump:""},edgeParams:{display:"show",position:"inside"},requiredParams:{}},configCustomBtnParams:{typeParams:{type:"custom"},edgeParams:{display:"show",position:"inside",icon:"",title:"",jump:""},requiredParams:{}},callIosSharePanelParams:{typeParams:{category:"jump",des:"share",type:"111",shareActionType:"P"},edgeParams:{imageUrl:"",iconUrl:"",channel:"",isCallBack:"N",callfunc:null,timeline_title:"",incentiveBizType:"",incentiveBizId:""},requiredParams:{title:"",content:"",shareUrl:""},ruleParams:{title:{require:!0},content:{require:!0},shareUrl:{url:!0,require:!0}}},callAndroidSharePanelParams:{typeParams:{shareActionType:"P"},edgeParams:{imageUrl:"",iconUrl:"",channel:"",callback:"N",callfunc:null,eventId:"",timeline_title:"",mpId:"",mpPath:"",mpIconUrl:"",incentiveBizType:"",incentiveBizId:""},requiredParams:{title:"",content:"",shareUrl:""},ruleParams:{title:{require:!0},content:{require:!0},shareUrl:{url:!0,require:!0}}},callIosHeaderSharePanelParams:{typeParams:{category:"jump",des:"share",type:"111",shareActionType:"S"},edgeParams:{imageUrl:"",iconUrl:"",channel:"",isCallBack:"N",callfunc:null,incentiveBizType:"",incentiveBizId:""},requiredParams:{title:"",content:"",shareUrl:""},ruleParams:{title:{require:!0},content:{require:!0},shareUrl:{url:!0,require:!0}}},callAndroidHeaderSharePanelParams:{typeParams:{shareActionType:"S"},edgeParams:{imageUrl:"",iconUrl:"",channel:"",callback:"N",eventId:"",callfunc:null,timeline_title:"",mpId:"",mpPath:"",mpIconUrl:"",incentiveBizType:"",incentiveBizId:""},requiredParams:{title:"",content:"",shareUrl:""},ruleParams:{title:{require:!0},content:{require:!0},shareUrl:{url:!0,require:!0}}},callIosDirectlyShareParams:{typeParams:{category:"jump",des:"share",type:"111",shareActionType:"O"},edgeParams:{imageUrl:"",iconUrl:"",channel:"",isCallBack:"N",callfunc:null,incentiveBizType:"",incentiveBizId:""},requiredParams:{title:"",content:"",shareUrl:""},ruleParams:{title:{require:!0},content:{require:!0},shareUrl:{url:!0,require:!0}}},callAndroidDirectlyShareParams:{typeParams:{shareActionType:"O"},edgeParams:{imageUrl:"",iconUrl:"",channel:"",callback:"N",eventId:"",callfunc:null,timeline_title:"",mpId:"",mpPath:"",mpIconUrl:"",incentiveBizType:"",incentiveBizId:""},requiredParams:{title:"",content:"",shareUrl:""},ruleParams:{title:{require:!0},content:{require:!0},shareUrl:{url:!0,require:!0}}},setIosCartParams:{typeParams:{},edgeParams:{action:"sh_showCart"},requiredParams:{}},setAndroidCartParams:{typeParams:{},edgeParams:{isShow:"Y"},requiredParams:{}},setNaviBackgroundParams:{typeParams:{},edgeParams:{backgroundColor:"",pic:""},requiredParams:{naviIcon:""},ruleParams:{naviIcon:{require:!0}}}},webViewEnable:function(){return!!t.MobileNavi},configBtn:function(a,r,o){if(n.hasAca(o)&&n.isJDApp()){if(n.checkInputParams(a,r)){var s=n.getConfigString(a,r);if(e.Common.printMsg("webview","_configStr:"+s),t.MobileNavi&&MobileNavi.configBtn)MobileNavi.configBtn(s);else if(e.Common.client.WKwebview){var l={method:"configBtn",params:s};t.webkit&&t.webkit.messageHandlers.MobileNavi.postMessage&&t.webkit.messageHandlers.MobileNavi.postMessage(l)}}}else i.printMsg(o,"has no access control authority")},configBtn610:function(a,r,o){if(n.hasAca(o)&&n.isJDApp()){if(n.checkInputParams(a,r)){var s=n.getConfigString(a,r);if(e.Common.printMsg("webview","_configStr610:"+s),t.MobileNavi&&MobileNavi.configBtnSince610)MobileNavi.configBtnSince610(s);else if(e.Common.client.WKwebview){var l={method:"configBtnSince610",params:s};t.webkit&&t.webkit.messageHandlers.MobileNavi.postMessage&&t.webkit.messageHandlers.MobileNavi.postMessage(l)}}}else i.printMsg(o,"has no access control authority")},hideAllBtn:function(e){this.configBtn610(this.params.resetConfigBtnParams,e,"hideAllBtn"),this.configBtn610(this.params.configAllBtnParams,e,"hideAllBtn"),n.report("hideAllbtn")},resetConfigBtn:function(e){this.configBtn610(this.params.resetConfigBtnParams,e,"resetConfigBtn"),n.report("resetConfigBtn")},configCustomBtn:function(e,t){n.hasAca(t)?this.configBtn(this.params.configCustomBtnParams,e):i.printMsg(t,"has no access control authority")},configCartBtn:function(e,t){n.hasAca(t)?this.configBtn(this.params.configCartBtnParams,e):i.printMsg(t,"has no access control authority")},configSearchBtn:function(e,t){n.hasAca(t)?this.configBtn(this.params.configSearchBtnParams,e):i.printMsg(t,"has no access control authority")},setSearchBtnShowOutside:function(){this.configSearchBtn({display:"show",position:"outside"},"setSearchBtnShowOutside"),n.report("setSearchBtnShowOutside")},setSearchBtnShowInside:function(){this.configSearchBtn({display:"show",position:"inside"},"setSearchBtnShowInside"),n.report("setSearchBtnShowInside")},setCartBtnShowOutside:function(){this.configCartBtn({display:"show",position:"outside"},"setSearchBtnShowInside"),n.report("setCartBtnShowOutside")},setCartBtnShowInside:function(){this.configCartBtn({display:"show",position:"inside"},"setCartBtnShowInside"),n.report("setCartBtnShowInside")},setCustomBtnShowOutside:function(e){e.display="show",e.position="outside",this.configCustomBtn(e,"setCustomBtnShowOutside"),n.report("setCustomBtnShowOutside")},setCustomBtnShowInside:function(e){e.display="show",e.position="inside",this.configCustomBtn(e,"setCustomBtnShowInside"),n.report("setCustomBtnShowInside")},refreshCart:function(){n.hasAca("refreshCart")?(e.Common.client.iPhone?this.setIosCart({action:"sh_refreshCart"}):e.Common.client.android&&this.refreshAndroidCart(),n.report("refreshCart")):i.printMsg("refreshCart","has no access control authority")},setPicTitleShow:function(e){this.setPicTitle("show",e,"setPicTitleShow")},setPicTitleHide:function(){this.setPicTitle("hide","","setPicTitleHide")},checkInputParams:function(t,n){var i=t.requiredParams,a=t.typeParams,r=!0;return e.Common.isNull(i)||(e.Common.isNull(n)?r=!1:this.isMatchedRequiredParams(i,n)||(r=!1)),e.Common.isNull(a)||e.Common.isNull(n)||this.isDiffStaticParams(a,n)||(r=!1),r},isMatchedRequiredParams:function(t,n){return e.Common.isSubSetByKeys(t,n)},isDiffStaticParams:function(t,n){return!e.Common.hasIntersectByKey(t,n)},getConfigString:function(t,n){return e.Common.stringify(this.getWholeCurrentParams(t,n))},getWholeCurrentParams:function(t,n){return e.Common.extend(this.getWholeDefaultParams(t),n)},getWholeDefaultParams:function(t){var n=e.Common.mergeJson(t.typeParams,t.edgeParams);return e.Common.mergeJson(n,t.requiredParams)},setIosCart:function(t){if(n.checkInputParams(this.params.setIosCartParams,t)){var i=n.getConfigString(this.params.setIosCartParams,t);e.Common.printMsg("webview","setIosCart:"+i),location.href=n.getOpenAppComHeader()+i}},setAndroidCart:function(i){if(n.checkInputParams(this.params.setAndroidCartParams,i)){var a=n.getConfigString(this.params.setAndroidCartParams,i);e.Common.printMsg("webview","setAndroidCart:"+a),t.AndroidNavi&&AndroidNavi.setCart&&AndroidNavi.setCart(a)}},refreshAndroidCart:function(){AndroidNavi&&AndroidNavi.refreshCart&&AndroidNavi.refreshCart()},setPicTitle:function(t,a,r){n.hasAca(r)?(e.Common.client.iPhone?this.setIOSPicTitle(t,a):e.Common.client.android&&this.setAndroidPicTitle(t,a),n.report("setPicTitle"+t)):i.printMsg(r,"has no access control authority")},setAndroidPicTitle:function(t,n){var i="N";if("show"==t?i="Y":"hide"==t&&(i="N"),AndroidNavi&&AndroidNavi.setTitle){var a=e.Common.stringify({isShow:i,imageUrl:n});e.Common.printMsg("webview","AndroidNavi: configStr:"+a),AndroidNavi.setTitle(a)}},setIOSPicTitle:function(t,i){var a="show"==t?"sh_showImgTitle":"sh_hideImgTitle",r=e.Common.stringify({action:a,imageUrl:encodeURI(i)});location.href=n.getOpenAppComHeader()+r},shareCallBack:function(n,i){"function"==typeof i.callfunc&&(e.Common.client.iPhone?n.edgeParams.isCallBack="Y":e.Common.client.android&&(n.edgeParams.callback="Y"),t.jdappShareRes=function(e){i.callfunc(e)})},callSharePanel:function(t){n.hasAca("callSharePanel")?(e.Common.client.iPhone?this.callIosSharePanel(t):e.Common.client.android&&this.callAndroidSharePanel(t),n.report("callSharePanel")):i.printMsg("callSharePanel","has no access control authority")},callIosSharePanel:function(t){if(n.checkInputParams(this.params.callIosSharePanelParams,t)&&n.isJDApp()){this.shareCallBack(this.params.callIosSharePanelParams,t);var i=n.getConfigString(this.params.callIosSharePanelParams,t);e.Common.printMsg("webview","callIosSharePanel:"+i),location.href=n.getOpenAppVirtualHeader()+i}},callAndroidSharePanel:function(i){if(n.checkInputParams(this.params.callAndroidSharePanelParams,i)){this.shareCallBack(this.params.callAndroidSharePanelParams,i);var a=n.getConfigString(this.params.callAndroidSharePanelParams,i);e.Common.printMsg("webview","callAndroidSharePanel:"+a),t.shareHelper&&shareHelper.initShare?shareHelper.initShare(a):shareHelper&&shareHelper.sendShare&&shareHelper.sendShare(i.title,i.content,i.shareUrl,i.iconUrl,"Wxfriends","Y")}},callHeaderSharePanel:function(t){n.hasAca("callHeaderSharePanel")?(e.Common.client.iPhone?this.callIosHeaderSharePanel(t):e.Common.client.android&&this.callAndroidHeaderSharePanel(t),n.report("callHeaderSharePanel")):i.printMsg("callHeaderSharePanel","has no access control authority")},callIosHeaderSharePanel:function(t){if(n.checkInputParams(this.params.callIosHeaderSharePanelParams,t)){this.shareCallBack(this.params.callIosHeaderSharePanelParams,t);var i=n.getConfigString(this.params.callIosHeaderSharePanelParams,t);e.Common.printMsg("webview","callIosHeaderSharePanel:"+i),location.href=n.getOpenAppVirtualHeader()+i}},callAndroidHeaderSharePanel:function(i){if(n.checkInputParams(this.params.callAndroidHeaderSharePanelParams,i)){this.shareCallBack(this.params.callAndroidHeaderSharePanelParams,i);var a=n.getConfigString(this.params.callAndroidHeaderSharePanelParams,i);e.Common.printMsg("webview","callAndroidSharePanel:"+a),t.shareHelper&&shareHelper.initShare&&shareHelper.initShare(a)}},callDirectlyShare:function(t){n.hasAca("callDirectlyShare")?(e.Common.client.iPhone?this.callIosDirectlyShare(t):e.Common.client.android&&this.callAndroidDirectlyShare(t),n.report("callDirectlyShare")):i.printMsg("callDirectlyShare","has no access control authority")},callIosDirectlyShare:function(t){if(n.checkInputParams(this.params.callIosDirectlyShareParams,t)){this.shareCallBack(this.params.callIosDirectlyShareParams,t);var i=n.getConfigString(this.params.callIosDirectlyShareParams,t);e.Common.printMsg("webview","callIosDirectlyShare:"+i),location.href=n.getOpenAppVirtualHeader()+i}},callAndroidDirectlyShare:function(i){if(n.checkInputParams(this.params.callAndroidDirectlyShareParams,i)){this.shareCallBack(this.params.callAndroidDirectlyShareParams,i);var a=n.getConfigString(this.params.callAndroidDirectlyShareParams,i);e.Common.printMsg("webview","callAndroidDirectlyShare:"+a),t.shareHelper&&shareHelper.initShare&&shareHelper.initShare(a)}},setTitleText:function(i){n.hasAca("setTitleText")&&n.isJDApp()&&("[object String]"===Object.prototype.toString.call(i)?(e.Common.client.WKwebview?t.webkit.messageHandlers.MobileNavi.postMessage({method:"setTitle",params:i,callBackName:null,callBackId:null}):t.MobileNavi&&MobileNavi.setTitle&&MobileNavi.setTitle(i),n.report("setTitleText")):e.Common.printMsg("webview","setTitleText environment not support"))},showCloseBtn:function(){n.hasAca("showCloseBtn")?n.isJDApp()&&(e.Common.client.WKwebview?t.webkit.messageHandlers.MobileNavi.postMessage({method:"showCloseBtn"}):t.MobileNavi&&MobileNavi.showCloseBtn&&MobileNavi.showCloseBtn(),n.report("showCloseBtn")):i.printMsg("callDirectlyShare","has no access control authority")},closeActiveWebview:function(){n.hasAca("closeActiveWebview")?n.isJDApp()&&(e.Common.client.android?t.JdAndroid&&JdAndroid.finishWebActivity?JdAndroid.finishWebActivity():e.Common.printMsg("not support!"):e.Common.client.iPhone&&(t.location.href="closeJDApp://webview"),n.report("closeActiveWebview")):i.printMsg("closeActiveWebview","has no access control authority")},setNaviBackground:function(i){if(n.hasAca("closeActiveWebview")&&n.isJDApp()&&n.checkInputParams(this.params.setNaviBackgroundParams,i)){var a=n.getConfigString(this.params.setNaviBackgroundParams,i);if(e.Common.printMsg("webview","setNaviBackground:"+a),t.MobileNavi&&t.MobileNavi.setNaviBackground)MobileNavi.setNaviBackground(a);else if(e.Common.client.WKwebview){var r={method:"setNaviBackground",params:a};t.webkit.messageHandlers.MobileNavi.postMessage(r)}}}}}(n,n.Module,n.Common),n});
